.marshal-chat-container{position:fixed;right:20px;bottom:20px;width:400px;height:600px;background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;display:flex;flex-direction:column;z-index:1001;border:1px solid var(--gray-200)}.marshal-chat-header{display:flex;align-items:center;justify-content:space-between;padding:20px;border-bottom:1px solid var(--gray-200);background:linear-gradient(135deg,#06c,#00bcd4);color:#fff;border-radius:16px 16px 0 0}.marshal-info{display:flex;align-items:center;gap:12px}.marshal-avatar{width:40px;height:40px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center}.marshal-info h3{margin:0;font-size:16px;font-weight:600}.marshal-info p{margin:0;font-size:12px;opacity:.9}.marshal-close-btn{background:none;border:none;color:#fff;cursor:pointer;padding:8px;border-radius:8px;transition:background-color .2s}.marshal-close-btn:hover{background-color:#fff3}.marshal-chat-messages{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:16px}.marshal-message{display:flex;gap:8px;animation:messageSlide .3s ease-out}@keyframes messageSlide{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.marshal-message.user{flex-direction:row-reverse}.message-avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.marshal-message.assistant .message-avatar{background:linear-gradient(135deg,#06c,#00bcd4);color:#fff}.marshal-message.user .message-avatar{background:var(--gray-200);color:var(--gray-700)}.message-content{max-width:75%;padding:12px 16px;border-radius:12px;background:var(--gray-100)}.marshal-message.user .message-content{background:var(--primary-blue);color:#fff}.message-content p{margin:0;font-size:14px;line-height:1.5}.typing-indicator{display:flex;gap:4px;padding:8px 0}.typing-indicator span{width:8px;height:8px;background:var(--gray-400);border-radius:50%;animation:typing 1.4s infinite}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}@keyframes typing{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-10px)}}.marshal-chat-footer{padding:16px;border-top:1px solid var(--gray-200);display:flex;flex-direction:column;gap:12px}.generate-form-btn{width:100%;padding:10px 16px;background:linear-gradient(135deg,#00bcd4,#06c);color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s}.generate-form-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #0066cc4d}.generate-form-btn:disabled{opacity:.6;cursor:not-allowed}.marshal-chat-input{display:flex;gap:8px;align-items:flex-end}.marshal-chat-input textarea{flex:1;padding:10px 14px;border:1px solid var(--gray-300);border-radius:8px;resize:none;font-family:inherit;font-size:14px;line-height:1.5;min-height:40px;max-height:120px}.marshal-chat-input textarea:focus{outline:none;border-color:var(--primary-blue)}.send-btn{padding:10px;background:var(--primary-blue);color:#fff;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.send-btn:hover:not(:disabled){background:var(--primary-blue-dark)}.send-btn:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.marshal-chat-container{position:fixed;inset:0;width:100%;height:100%;border-radius:0}.marshal-chat-header{border-radius:0}}.modal-overlay{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.marshal-button-container{margin:20px 0;text-align:center}.marshal-button{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(135deg,#00bcd4,#06c);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #06c3}.marshal-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0066cc4d}.marshal-hint{margin:8px 0 0;font-size:13px;color:var(--gray-600)}.modal-content{background:var(--white);background-image:linear-gradient(145deg,var(--white) 0%,rgba(255,255,255,.95) 100%);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);width:100%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative}.modal-content:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:var(--gradient-tertiary);border-radius:var(--border-radius-xl) var(--border-radius-xl) 0 0}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:1px solid var(--gray-200)}.modal-header h2{font-size:1.5rem;font-weight:700;color:var(--gray-800)}.backlog-warning{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem 2rem;border-bottom:1px solid var(--gray-200);position:relative}.backlog-warning.clear{background:linear-gradient(135deg,#00d0840d,#00d08405);border-left:4px solid #00d084}.backlog-warning.busy{background:linear-gradient(135deg,#fcb9000d,#fcb90005);border-left:4px solid #fcb900}.backlog-warning.swamped{background:linear-gradient(135deg,#cf2e2e0d,#cf2e2e05);border-left:4px solid #cf2e2e}.backlog-warning-icon{flex-shrink:0;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-top:.25rem}.backlog-warning.clear .backlog-warning-icon{background:linear-gradient(135deg,#00d084,#7bdcb5);color:#fff}.backlog-warning.busy .backlog-warning-icon{background:linear-gradient(135deg,#fcb900,#ff6900);color:#fff}.backlog-warning.swamped .backlog-warning-icon{background:linear-gradient(135deg,#cf2e2e,#f78da7);color:#fff}.backlog-warning-content{flex:1}.backlog-warning-content h4{font-size:1rem;font-weight:600;margin-bottom:.5rem;color:var(--gray-800)}.backlog-warning.clear .backlog-warning-content h4{color:#047857}.backlog-warning.busy .backlog-warning-content h4{color:#d97706}.backlog-warning.swamped .backlog-warning-content h4{color:#b91c1c}.backlog-warning-content p{font-size:.875rem;color:var(--gray-600);line-height:1.5;margin-bottom:.75rem}.backlog-estimate{font-size:.8rem;color:var(--gray-500)}.backlog-estimate strong{color:var(--gray-700);font-weight:600}.close-button{background:none;border:none;color:var(--gray-400);cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-button:hover{background:var(--gray-100);color:var(--gray-600);transform:none}.modal-form{padding:2rem;display:flex;flex-direction:column;gap:1.5rem}.form-group{display:flex;flex-direction:column;gap:.5rem}.form-group label{font-weight:600;color:var(--gray-700);font-size:.875rem}.form-group input,.form-group textarea,.form-group select{padding:.875rem;border:1px solid var(--gray-300);border-radius:var(--border-radius-md);font-size:.875rem;background:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:all .3s cubic-bezier(.4,0,.2,1);font-family:inherit}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--tertiary-blue);box-shadow:0 0 0 3px #32a2db1a;background:var(--white);transform:scale(1.01)}.form-group input.error,.form-group textarea.error,.form-group select.error{border-color:var(--error);box-shadow:0 0 0 3px #ef44441a}.form-group textarea{resize:vertical;min-height:80px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.error-text{color:var(--error);font-size:.75rem;font-weight:500}.modal-footer{display:flex;justify-content:space-between;gap:1rem;padding:1.5rem 2rem;border-top:1px solid var(--gray-200);background:var(--gray-50);border-radius:0 0 16px 16px}.modal-footer button{min-width:120px;justify-content:center;padding:.75rem 1.5rem;border-radius:var(--border-radius-md);font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease;border:none}.modal-footer button.secondary{background:transparent;color:var(--gray-700);border:1px solid var(--gray-300)}.modal-footer button.secondary:hover{background:var(--gray-100);border-color:var(--gray-400)}.modal-footer button.primary{background:var(--gradient-primary);color:var(--white);display:flex;align-items:center;gap:.5rem}.modal-footer button.primary:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}.modal-footer button.primary:disabled{opacity:.6;cursor:not-allowed;transform:none}.shortcut-story{padding:2rem;display:flex;flex-direction:column;gap:1.5rem}.shortcut-story p{color:var(--gray-600);line-height:1.6}.story-preview{background:linear-gradient(145deg,var(--gray-50) 0%,rgba(248,247,244,.8) 100%);border:1px solid var(--gray-200);border-radius:var(--border-radius-md);padding:1.25rem;max-height:300px;overflow-y:auto;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);position:relative}.story-preview:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--tertiary-blue),transparent);opacity:.5}.story-preview pre{margin:0;font-family:Courier New,monospace;font-size:.8rem;line-height:1.5;color:var(--gray-700);white-space:pre-wrap;word-wrap:break-word}.story-actions{display:flex;justify-content:center}.copy-button{background:var(--gradient-secondary);color:var(--gray-800);border:none;padding:.875rem 1.75rem;border-radius:var(--border-radius-md);font-weight:600;font-size:.875rem;display:flex;align-items:center;gap:.5rem;cursor:pointer;box-shadow:var(--shadow-md);transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.copy-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.copy-button:hover:before{left:100%}.copy-button:hover{transform:translateY(-2px) scale(1.02);box-shadow:var(--shadow-lg)}button.primary{background:var(--primary-blue);color:var(--white)}button.primary:hover{background:var(--primary-blue-dark)}@media (max-width: 768px){.modal-overlay{padding:.5rem}.modal-content{max-height:95vh}.modal-header{padding:1rem 1.5rem}.modal-form{padding:1.5rem;gap:1rem}.form-row{grid-template-columns:1fr;gap:1rem}.modal-footer{padding:1rem 1.5rem;flex-direction:column}.modal-footer button{width:100%}.shortcut-story{padding:1.5rem}}
